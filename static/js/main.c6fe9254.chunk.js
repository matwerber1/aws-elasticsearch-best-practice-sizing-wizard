(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{55:function(e,t,a){e.exports=a(67)},60:function(e,t,a){},61:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},62:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(6),c=a.n(r),o=(a(60),a(61),a(62),a(101)),m=a(104),i=a(102),u=a(42),s=a(109),d=a(105),E=a(108),h=a(110),b=a(12),p={SINGLE:"singleIndex",MULTI:"multiIndex"},g={RECOMMENDED_BUFFER:1.15,RECOMMENDED_BUFFER_PERCENT:15,INFLATION_FACTOR:1.1,MIN_GB_PER_NODE:3,MAX_GB_PER_NODE:50},f=Object(b.a)({indexType:p.SINGLE,indexSize:100,indexCount:1,replicationFactor:2,clusterStorageGb:0,storageGbPerIndex:0,storageGbPerShard:30,primaryShardCount:0}),v=Object(u.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)},root:{"& > *":{margin:e.spacing(1),width:200}}}}));function y(e){f[e.target.name]=e.target.value}var x=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(o.a,null),n.a.createElement(i.a,{maxWidth:"md"},n.a.createElement(m.a,{component:"div",style:{backgroundColor:"#cfe8fc"}},n.a.createElement("h1",null,"Amazon Elasticsearch Size Wizard"),"No surefire method of sizing Amazon ES domains exists, but by starting with an understanding of your storage needs, the service, and Elasticsearch itself, you can make an educated initial estimate on your hardware needs. This estimate can serve as a useful starting point for the most critical aspect of sizing domains: testing them with representative workloads and monitoring their performance.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/sizing-domains.html"},"Click here")," for additional info.")),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Note!")," - This is a work in process.",n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(i.a,{maxWidth:"md"},n.a.createElement(m.a,{component:"div",style:{backgroundColor:"#cfe8fc"}},n.a.createElement(C,null))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(i.a,{maxWidth:"md"},n.a.createElement(m.a,{component:"div",style:{backgroundColor:"#cfe8fc"}},n.a.createElement(w,null))),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(i.a,{maxWidth:"md"},n.a.createElement(m.a,{component:"div",style:{backgroundColor:"#cfe8fc"}},n.a.createElement(S,null))))})),w=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{className:"MyTable"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("h1",null,"Shard Count Calculator"))),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Total storage requirement "),"(per above):"),n.a.createElement("td",null,N())),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Number of indexes:")),n.a.createElement("td",null,f.indexCount," index",f.indexCount>1?"es":"")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Storage per Index:")),n.a.createElement("td",null,B()," GB per index")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Recommended storage per shard:")),n.a.createElement("td",null,"10 to 50 GB per shard.",n.a.createElement("br",null),"30 GB per shard is a good rule of thumb that we will use below.")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"GB per shard for our calculation:")),n.a.createElement("td",null,f.storageGbPerShard," GB")),n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Recommended number of primary shards"),":"),n.a.createElement("td",null,n.a.createElement("b",null,O()," primary shards")," (rounded up)")),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null)))))}));var S=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{className:"MyTable"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("h1",null,"Compute Calculator"))),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",null),n.a.createElement("td",null)),n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("b",null,"Tips and tricks: "),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-bp.html"},"Use three dedicated master nodes spread across three AZs")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/es-managedomains-dedicatedmasternodes.html"},"AWS master node sizing recommendations")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://www.bluematador.com/docs/troubleshooting/aws-elasticsearch-jvm-pressure"},"Nodes allocate 50% of memory to ES JVM, up to 32 GB.")," Even though nodes with > 64 GB do not increase the JVM Heap, that extra memory can still help related OS tasks and ultimately boost performance. As always, it depends. "),n.a.createElement("li",null,n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/sizing-domains.html#aes-bp-instances"},"Low workloads or shard counts, start with 2 vCPUs & 8 GB RAM per 512 GB of storage per node.")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/sizing-domains.html#aes-bp-instances"},"High workloads or shard counts, start with 2 vCPUs & 8 GB RAM per 100 GB of storage per node."))))))))})),C=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{className:"MyTable"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("h1",null,"Storage Calculator"))),n.a.createElement(F,null),n.a.createElement(k,null),n.a.createElement(G,null),n.a.createElement(z,null),n.a.createElement(T,null),n.a.createElement(I,null))))})),F=Object(b.b)((function(){var e=v();return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{width:"40%"},n.a.createElement("b",null,"Will you use a single index, or partition it?"),n.a.createElement("br",null),n.a.createElement("br",null),"Typically, we see partioning with streaming use cases, such as log analytics, where you keep X number of days of data, each day gets its own index, and searches are more likely to occur on recent data.",n.a.createElement("br",null),n.a.createElement("br",null),"In contrast, a single index might be something like a product catalog, where searches could be at any point in the index."),n.a.createElement("td",null,n.a.createElement(d.a,{className:e.formControl,variant:"filled"},n.a.createElement(E.a,{name:"indexType",value:f.indexType,onChange:y},n.a.createElement(s.a,{value:p.MULTI},"Partitioned index"),n.a.createElement(s.a,{value:p.SINGLE},"Single index"))))))})),G=Object(b.b)((function(){var e;return e=f.indexType===p.SINGLE?"How much data will your index hold?":"How much data will each index hold?",n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,e)),n.a.createElement("td",null,n.a.createElement(h.a,{defaultValue:f.indexSize,label:"data size in GB?",name:"indexSize",onChange:y,variant:"filled"}))))})),k=Object(b.b)((function(){return f.indexType===p.MULTI?n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"How many index partitions will you keep?")),n.a.createElement("td",null,n.a.createElement(h.a,{defaultValue:f.indexCount,label:"Number of partitions?",name:"indexCount",onChange:y,variant:"filled"})))):void(f.indexCount=1)})),N=function(){return f.clusterStorageGb=f.indexSize*f.replicationFactor*f.indexCount*g.RECOMMENDED_BUFFER*g.INFLATION_FACTOR,f.clusterStorageGb<1e3?f.clusterStorageGb.toLocaleString(void 0,{maximumFractionDigits:0})+" GB":f.clusterStorageGb<1e6?((f.clusterStorageGb+100)/1e3).toLocaleString(void 0,{maximumFractionDigits:1})+" TB":((f.clusterStorageGb+1e3)/1e6).toLocaleString(void 0,{maximumFractionDigits:3})+" PB"},B=function(){return f.storageGbPerIndex=f.clusterStorageGb/f.indexCount,f.storageGbPerIndex.toLocaleString(void 0,{maximumFractionDigits:1})};var O=function(){return f.primaryShardCount=parseFloat(f.storageGbPerIndex)/parseFloat(f.storageGbPerShard)+.5,f.primaryShardCount.toLocaleString(void 0,{maximumFractionDigits:0})},z=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"What is your replication factor?"),n.a.createElement("br",null)),n.a.createElement("td",null,n.a.createElement(h.a,{defaultValue:f.replicationFactor,label:"replication factor?",name:"replicationFactor",onChange:y,variant:"filled"}),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("li",null,"Best practice - ",n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/aes-bp.html"},"at least 1 replica")," (replication factor = 2)"))))})),T=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("b",null,"Recommended storage:"),n.a.createElement("br",null),n.a.createElement("a",{href:"https://youtu.be/95kQkS51VnU?t=589"},"Based on this guidance"),n.a.createElement("br",null),n.a.createElement("br",null),"Note that ",n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/sizing-domains.html"},"these AWS docs")," call for a slightly different formula, but the results are more or less the same."),n.a.createElement("td",null,"= ",f.indexSize," GB storage * ",g.INFLATION_FACTOR," inflation factor * ",f.replicationFactor," replication factor  * ",f.indexCount," index partitions * ",g.RECOMMENDED_BUFFER," buffer factor",n.a.createElement("br",null),"= ",n.a.createElement("b",null,N())," recommended cluster storage.",f.clusterStorageGb>1e6?n.a.createElement((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("b",null,"Important!")," - As your storage requirements are >= 1 PB, you should instead follow the recommendations ",n.a.createElement("a",{href:"https://docs.aws.amazon.com/elasticsearch-service/latest/developerguide/petabyte-scale.html"},"in this guide"),".")}),null):"")))})),I=Object(b.b)((function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"2"},n.a.createElement("b",null,"Storage tips and tricks: "),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("a",{href:"https://youtu.be/95kQkS51VnU?t=650"},"Reducing source data has the greatest impact on storage needs")),n.a.createElement("ul",null,n.a.createElement("li",null,"for example, ",n.a.createElement("a",{href:"https://youtu.be/95kQkS51VnU?t=730"},"removing @message")," has a huge impact")),n.a.createElement("li",null,n.a.createElement("a",{href:"https://youtu.be/95kQkS51VnU?t=817"},"Disable uneeded mapping features"))))))})),R=Object(b.b)((function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",null,n.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"})),n.a.createElement(x,null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("br",null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[55,1,2]]]);
//# sourceMappingURL=main.c6fe9254.chunk.js.map